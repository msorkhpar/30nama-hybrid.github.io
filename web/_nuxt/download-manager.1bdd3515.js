import{_ as It}from"./nuxt-link.bc2b4c04.js";import{d as be,u as on,r as te,q as Tt,E as an,o as I,e as O,I as Le,f,W as An,X as Ce,l as ln,Y as sn,Z as $t,h as D,w as R,x as Ee,y as Z,Q as ee,g as _,G as z,t as E,n as rn,H as In,J as rt,$ as ct,a0 as Ot,a1 as kt,m as Pt,a2 as cn,a3 as Tn,a4 as $n,a5 as On,a6 as kn,a7 as Pn,a8 as yt,M as xt,N as Et,a9 as Nn,A as Mn,aa as Fn,ab as Ln}from"./entry.63203ae2.js";import{C as Xt,i as Rt}from"./chartjs-plugin-gradient.esm.283a673b.js";import{_ as Bn}from"./BaseCircularProgress.vue.2d3c1a70.js";function We(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Hn={class:"relative"},Xn=f("div",{class:"absolute inset-0 h-full w-full overflow-hidden"},[f("div",{class:"absolute -left-[9.4rem] h-full w-[calc(100%_+_9.4rem)]"},[f("canvas",{id:"acquisitions",class:"!w-full"})])],-1),Rn=[Xn],jn=be({__name:"DownloadManagerChart",setup(o,{expose:e}){const{disableAnimations:t}=on(),n=te(getComputedStyle(document.body).getPropertyValue("--primary-500"));let a;const l=p=>{const c=r[p.dataIndex];return`${Le.core.bytesToSize(c)}/s`};Tt(()=>{Xt.register(Rt);const p={backgroundColor:`rgb(${n.value})`,borderColor:`rgb(${n.value})`,maintainAspectRatio:!1,animation:{duration:t.value?0:1e3,easing:"linear"},scales:{x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1},border:{display:!1}}},elements:{point:{borderWidth:0,radius:3}},hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",titleFont:{weight:"normal"},titleColor:"#ccc",intersect:!1,displayColors:!1,backgroundColor:"rgba(0,0,0,0.9)",cornerRadius:8,callbacks:{label:l}}},responsive:!0};a=new Xt(document.getElementById("acquisitions"),{type:"line",data:{labels:[],datasets:[{gradient:{backgroundColor:{axis:"y",colors:{0:`rgb(${n.value} / 0)`,100:`rgb(${n.value} / 0.3)`}}},pointBackgroundColor:`rgb(${n.value})`,fill:!0,label:"",data:[],tension:.4}]},options:p,plugins:[Rt]})}),an(()=>a.destroy());const s=()=>new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),r=[];function d(){a&&a.data.datasets[0].data.length>=32&&(We([a,"access",c=>c.data,"access",c=>c.labels,"optionalAccess",c=>c.shift,"call",c=>c()]),a.data.datasets[0].data.shift(),a.update()),r.length>=32&&r.shift()}function i(p){d(),We([a,"optionalAccess",m=>m.data,"access",m=>m.labels,"access",m=>m.push,"call",m=>m(s())]),r.push(p);const c=Math.max(...r),g=Math.min(...r);a.data.datasets[0].data.push(Math.floor(Le.core.ILerp(g,c,p,100)));for(let m=0;m<We([a,"optionalAccess",b=>b.data,"access",b=>b.datasets,"access",b=>b[0],"access",b=>b.data,"access",b=>b.length]);m++){const b=Math.floor(Le.core.ILerp(g,c,r[m],100));a.data.datasets[0].data[m]=b}We([a,"optionalAccess",m=>m.update,"call",m=>m()])}return e({addRecord:i}),(p,c)=>(I(),O("div",Hn,Rn))}});function $(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Ie=o=>(Ot("data-v-f94e9f55"),o=o(),kt(),o),Yn={"aria-label":"downloader",class:"relative flex items-center gap-8"},zn={class:"w-poster-medium h-poster-medium bg-bg-10 relative shrink-0 overflow-hidden rounded-xl"},Gn={class:"relative flex w-full justify-between"},Wn={class:"absolute left-0 flex h-full w-1/2 overflow-hidden rounded-l-2xl opacity-10"},Un=Ie(()=>f("span",{class:"from-bg-10 to-bg-10/0 absolute h-full w-full bg-gradient-to-l from-20%"},null,-1)),Vn=["src"],qn={class:"relative flex w-full flex-col"},Zn={class:"absolute left-3 top-3 flex flex-col gap-2"},Kn={class:"text-fonts-300 flex items-center gap-2 text-xl font-bold tracking-wider"},Qn={key:0,class:"text-fonts-300 line-clamp-1 text-sm font-bold tracking-wider"},Jn={key:0,class:"text-fonts-300 font-bold tracking-wider"},eo={class:"mb-2 mt-16 h-full w-full"},to={class:"mb-1 p-4"},no={class:"bg-bg-1/20 relative flex h-2 w-full overflow-hidden rounded-full"},oo={key:0,class:"bg-bg-1/30 progress-holder absolute h-full w-full"},ao={class:"relative flex flex-col justify-between p-2 transition-opacity"},lo={class:"flex flex-row items-center gap-2"},io={class:"relative flex flex-col items-center"},so={class:"bg-bg-11 flex shrink-0 translate-y-1 items-center justify-center rounded-full p-2"},ro={key:0,class:"absolute top-1 ml-7 h-2 w-2 rounded-full bg-yellow-500"},co=Ie(()=>f("svg",{class:"fill-bg-11 h-4 w-full self-center md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),uo={class:"bg-bg-11 text-fonts-100 flex h-[1.5rem] w-[6.34rem] items-center justify-center whitespace-nowrap rounded-xl px-3 text-center text-xs font-semibold"},fo={class:"flex flex-col items-center"},po={class:"bg-bg-11 flex shrink-0 translate-y-1 items-center justify-center rounded-full p-2"},ho=Ie(()=>f("svg",{class:"fill-bg-11 h-4 w-full self-center md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),go={class:"bg-bg-11 text-fonts-100 flex h-[1.5rem] w-[5.32rem] items-center justify-center whitespace-nowrap rounded-xl px-3 text-center text-xs font-semibold"},mo={class:"relative flex items-center justify-center"},vo={class:"local-numbers text-6xl font-bold"},_o=Ie(()=>f("span",{class:"bg-bg-1/20 absolute h-16 w-16 translate-y-2 rounded-full blur-xl"},null,-1)),bo={class:"flex flex-col items-center"},wo={class:"hover:bg-bg-9/50 border-bg-9/0 bg-bg-11 flex cursor-pointer rounded-xl border-2 p-2 transition-colors"},yo={class:"hover:bg-bg-9/50 border-bg-9/0 bg-bg-11 flex cursor-pointer rounded-xl border-2 p-2 transition-colors"},xo=Ie(()=>f("svg",{class:"fill-bg-10 absolute right-[20vw] top-full z-10 w-[3rem]",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.7602 1.56955e-06L0.00976562 0C10.7793 2.09563e-06 19.5098 8.73045 19.5098 19.5C19.5098 30.2696 10.7793 39 0.0097732 39H55.7745C45.005 39 36.2745 30.2695 36.2745 19.5C36.2745 8.7352 44.9972 0.00770274 55.7602 1.56955e-06Z"})],-1)),Eo=Ie(()=>f("svg",{class:"fill-bg-10 absolute left-[calc(100%_-_1px)] top-4 z-10 w-[2.2rem]",viewBox:"0 0 40 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3926 56.3745L39.3926 0.617676C39.3926 11.3872 30.6621 20.1177 19.8926 20.1177C9.12302 20.1177 0.392574 11.3872 0.392578 0.617682L0.392576 56.3824C0.39258 45.6129 9.12303 36.8824 19.8926 36.8824C30.6595 36.8824 39.3883 45.6086 39.3926 56.3745Z"})],-1)),Do={key:0,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},So={class:"text-fonts-200 whitespace-nowrap text-2xl font-semibold"},Co={key:1,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Ao={class:"text-fonts-200 whitespace-nowrap text-2xl font-semibold"},Io=be({__name:"DownloadManagerDownloader",setup(o){const e=An(),{bytesToSize:t}=Le.core,{scheduledDownloadables:n,unscheduledDownloadables:a,activeDownloadable:l,changeUpdater:s,downloadAction:r}=Ce(),{downloadSpeedLimit:d}=on(),i=ln(()=>e.progress),p=te();sn(i,v=>{$([v,"optionalAccess",S=>S.status])==="active"&&$([p,"access",S=>S.value,"optionalAccess",S=>S.addRecord,"call",S=>S(v.downloadSpeed)])});async function c(){const v=$([e,"access",S=>S.progress,"optionalAccess",S=>S.status])==="active"?"pause":"unpause";await r(v),v==="pause"?(await s("stop"),i.value.downloadSpeed=0):s("start")}async function g(){await s("stop"),r("remove"),e.progress=void 0,$([l,"optionalAccess",C=>C.value])&&(l.value.downloading=!1),e.activeGID=void 0;const v=n.value[0],S=n.value.indexOf(v);n.value.splice(S,1),a.value.unshift(v)}const m=te();async function b(){await new Promise(C=>setTimeout(C,250));const v=$([m,"access",C=>C.value,"optionalAccess",C=>C.$el,"access",C=>C.children,"access",C=>C[0]]),S=$([m,"access",C=>C.value,"optionalAccess",C=>C.$el,"access",C=>C.children,"access",C=>C[1]]);v&&v.tagName==="CANVAS"&&(v.style.opacity=0),S&&S.tagName==="IMG"&&(S.style.opacity=1)}return(v,S)=>{const C=$t("vue3-blurhash"),k=It,G=jn,F=rt,W=ct;return I(),O("section",Yn,[D(k,{to:`/single/${$([_,"call",u=>u(l),"optionalAccess",u=>u.postId])}`,class:ee([{"pointer-events-none opacity-20 grayscale":!_(l)}])},{default:R(()=>[f("div",zn,[$([_,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.poster,"access",u=>u.webp])?(I(),Ee(C,{key:0,ref_key:"img",ref:m,src:$([_,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.poster,"access",u=>u.webp]),punch:1,hash:$([_,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.poster,"access",u=>u.preview]),height:"100%",class:"blur-img rounded-xl",width:"100%","resolution-x":10,"resolution-y":10,onImageLoaded:b},null,8,["src","hash"])):Z("",!0)])]),_:1},8,["to","class"]),f("div",Gn,[f("section",{"aria-label":"download info",class:ee(["h-poster-medium bg-bg-10 ltr-dir relative flex w-full justify-between rounded-2xl shadow-lg",[{"pointer-events-none opacity-20 grayscale":!_(l)}]])},[f("div",Wn,[Un,f("img",{src:$([_,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.cover]),class:"h-full w-full object-cover",alt:""},null,8,Vn)]),f("div",qn,[f("div",Zn,[f("h5",Kn,[z(E($([_,"call",u=>u(l),"optionalAccess",u=>u.title]))+" ",1),$([_,"call",u=>u(l),"optionalAccess",u=>u.episode])?(I(),O("p",Qn,E(`S${_(l).season}E${_(l).episode}`),1)):Z("",!0)]),$([_,"call",u=>u(l),"optionalAccess",u=>u.size])?(I(),O("h5",Jn,E($([_,"call",u=>u(l),"optionalAccess",u=>u.size])),1)):Z("",!0)]),f("div",eo,[D(G,{ref_key:"chart",ref:p,class:"h-full w-full"},null,512)]),f("div",to,[f("span",no,[D(In,{name:"fade-preset",mode:"out-in"},{default:R(()=>[$([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"?(I(),O("span",oo)):(I(),O("span",{key:1,class:"bg-primary-500/80 absolute left-0 h-full w-full origin-left scale-x-0",style:rn(`transform: scaleX(${($([_,"call",u=>u(i),"optionalAccess",u=>u.percent])||0)/100})`)},null,4))]),_:1})])])]),f("div",ao,[f("div",{class:ee({" opacity-50":$([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"})},[f("ul",lo,[f("li",io,[f("span",so,[D(F,{name:"ph:gauge-fill",class:"text-fonts-100 text-2xl"}),D(W,{placement:"top"},{default:R(()=>[z(E(v.$t("downloadSpeed")),1)]),_:1})]),_(d)?(I(),O("span",ro,[D(W,{placement:"top"},{default:R(()=>[z(E(v.$t("speedLimiterIsActive")),1)]),_:1})])):Z("",!0),co,f("p",uo,E(_(t)($([_,"call",u=>u(i),"optionalAccess",u=>u.downloadSpeed])||0))+"/s ",1)]),f("li",fo,[f("span",po,[D(F,{name:"ph:download-fill",class:"text-fonts-100 text-2xl"}),D(W,{placement:"top"},{default:R(()=>[z(E(v.$t("size")),1)]),_:1})]),ho,f("p",go,E(_(t)($([_,"call",u=>u(i),"optionalAccess",u=>u.completedLength])||0)),1)])])],2),f("div",{class:ee(["flex flex-col items-center",{" opacity-50":$([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"}])},[f("div",mo,[f("h4",vo,E($([_,"call",u=>u(i),"optionalAccess",u=>u.percent])||0)+"%",1),_o])],2),f("div",bo,[f("ul",{class:ee(["flex gap-3",[{disabled:!_(l)},{invisible:!_(l)}]])},[f("li",{class:ee([{"pointer-events-none":!_(i)||_(i).status==="preparing"},{" opacity-50":$([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"}]),onClick:S[0]||(S[0]=u=>c())},[f("div",wo,[$([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="active"?(I(),Ee(F,{key:0,name:"ph:pause-fill",class:"text-fonts-100 text-md"})):$([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="paused"?(I(),Ee(F,{key:1,name:"ph:play-fill",class:"text-fonts-100 text-md"})):(I(),Ee(F,{key:2,name:"ph:pause-fill",class:"text-fonts-100 text-md"})),D(W,{placement:"top"},{default:R(()=>[z(E($([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="active"?v.$t("pauseDownload"):v.$t("resumeDownload")),1)]),_:1})])],2),f("li",{onClick:g},[f("div",yo,[D(F,{name:"ph:x-bold",class:"text-fonts-100 text-md"}),D(W,{placement:"top"},{default:R(()=>[z(E(v.$t("cancel")),1)]),_:1})])])],2)])]),xo,Eo],2),_(l)?Z("",!0):(I(),O("span",Do,[f("h4",So,E(v.$t("youHaveNoActiveDownload")),1)])),$([_,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"?(I(),O("span",Co,[f("h4",Ao,E(v.$t("preparingDownload")),1)])):Z("",!0)])])}}});const To=Pt(Io,[["__scopeId","data-v-f94e9f55"]]);function jt(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Nt=o=>(Ot("data-v-99af34e4"),o=o(),kt(),o),$o={"aria-label":"download item",class:"flex w-full items-center gap-8"},Oo={class:"bg-bg-8 h-[8.44rem] w-[5.625rem] overflow-hidden rounded-lg"},ko={class:"bg-bg-11 relative flex h-full w-full items-center justify-between overflow-hidden rounded-2xl"},Po={class:"pointer-events-none absolute left-0 flex h-full w-1/3 opacity-20"},No=Nt(()=>f("span",{class:"from-bg-11 to-bg-11/0 absolute h-full w-full bg-gradient-to-l from-20%"},null,-1)),Mo=["src"],Fo={class:"drag-target h-full w-full p-4"},Lo={class:"relative flex flex-col"},Bo={key:0,class:"text-fonts-300 ltr-dir line-clamp-1 text-base font-bold"},Ho={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-base font-bold"},Xo={class:"ltr-dir text-base font-semibold"},Ro={key:0},jo=Nt(()=>f("span",{class:"text-fonts-300"}," / ",-1)),Yo={class:"text-fonts-300"},zo=Nt(()=>f("span",{class:"draggable-handler drag-target absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 scale-75 cursor-grab flex-col items-center gap-1"},[f("span",{class:"bg-bg-9 h-1 w-6 rounded-full"}),f("span",{class:"bg-bg-9 h-1 w-6 rounded-full"}),f("span",{class:"bg-bg-9 h-1 w-6 rounded-full"})],-1)),Go={class:"flex p-4"},Wo={class:"absolute bottom-full right-0 flex items-center gap-2"},Uo={class:"local-numbers"},Vo={class:"bg-bg-1/10 relative flex h-2 w-full overflow-hidden rounded-full"},qo={class:"flex items-center gap-2"},Zo=be({__name:"DownloadManagerDownloadItem",props:{data:{}},setup(o){const e=o,{scheduledDownloadables:t,unscheduledDownloadables:n}=Ce(),a=cn(),l=te();async function s(){await new Promise(c=>setTimeout(c,250));const i=jt([l,"access",c=>c.value,"optionalAccess",c=>c.$el,"access",c=>c.children,"access",c=>c[0]]),p=jt([l,"access",c=>c.value,"optionalAccess",c=>c.$el,"access",c=>c.children,"access",c=>c[1]]);i&&i.tagName==="CANVAS"&&(i.style.opacity=0),p&&p.tagName==="IMG"&&(p.style.opacity=1)}function r(){t&&(t.value=t.value.filter(i=>i.id!==e.data.id)),n&&(n.value=n.value.filter(i=>i.id!==e.data.id))}function d(){if(!t||!n)return;const i=n.value.find(c=>c.id===e.data.id),p=t.value.find(c=>c.id===e.data.id);i?(t.value=[i,...t.value],n.value=n.value.filter(c=>c.id!==e.data.id),i.id=new Date().getTime()):p&&(t.value=t.value.filter(c=>c.id!==e.data.id),t.value=[p,...t.value],p.id=new Date().getTime())}return(i,p)=>{const c=$t("vue3-blurhash"),g=It,m=rt,b=ct;return I(),O("section",$o,[D(g,{to:`/single/${i.data.postId}`},{default:R(()=>[f("div",Oo,[D(c,{ref_key:"img",ref:l,src:i.data.image.poster.webp,punch:1,hash:i.data.image.poster.preview,height:"100%",class:"blur-img",width:"100%","resolution-x":10,"resolution-y":10,onImageLoaded:s},null,8,["src","hash"])])]),_:1},8,["to"]),f("div",ko,[f("div",Po,[No,f("img",{src:i.data.image.cover,class:"h-full w-full object-cover",alt:""},null,8,Mo)]),f("span",Fo,[f("div",Lo,[f("h6",{class:ee(["ltr-dir line-clamp-1 break-all",i.data.title.length>25?"text-lg":"text-xl"])},E(i.data.title),3),i.data.season!==void 0&&i.data.episode!==void 0?(I(),O("p",Bo,"S"+E(i.data.season)+"E"+E(i.data.episode),1)):Z("",!0),f("p",Ho,E(i.data.quality),1),f("p",Xo,[i.data.progress?(I(),O("span",Ro,[z(E(i.data.progress.downloaded)+" ",1),jo])):Z("",!0),f("span",Yo,E(i.data.size),1)])]),zo]),f("div",Go,[f("ul",{class:ee(["flex items-center gap-2",{"drag-target":!i.data.error}])},[f("li",{class:ee(["hover:bg-bg-9 flex cursor-pointer items-center justify-center rounded-full p-2 transition-all",{invisible:!i.data.error}]),onClick:p[0]||(p[0]=v=>_(a).toggleMessage(!0,i.data.error,"code"))},[D(m,{name:"ph:warning",class:"shrink-0 text-xl text-red-500"}),D(b,{placement:"top"},{default:R(()=>[z(E(i.$t("anErrorOccurredWhileDownloading")),1)]),_:1})],2),i.data.progress?(I(),O("li",{key:0,class:"progress relative mx-4 w-48",onClick:p[1]||(p[1]=v=>_(a).toggleMessage(!0))},[f("div",Wo,[f("span",Uo,E(i.data.progress.percent)+"%",1)]),f("span",Vo,[f("span",{class:"full bg-primary-500 absolute left-0 h-full w-full origin-left scale-x-0",style:rn(`transform: scaleX(${i.data.progress.percent/100})`)},null,4)])])):Z("",!0)],2),f("ul",qo,[f("li",{class:"hover:bg-bg-9 flex cursor-pointer rounded-full p-2 transition-colors",onClick:r},[D(m,{name:"ph:trash-fill",class:"text-fonts-100 text-xl"}),D(b,{placement:"top"},{default:R(()=>[z(E(i.$t("deleteFromList")),1)]),_:1})]),f("li",{class:"hover:bg-bg-9 flex cursor-pointer rounded-full p-2 transition-colors",onClick:d},[D(m,{name:"ph:download-simple-fill",class:"text-fonts-100 text-xl"}),D(b,{placement:"top"},{default:R(()=>[z(E(i.$t("downloadNow")),1)]),_:1})])])])])])}}});const Ko=Pt(Zo,[["__scopeId","data-v-99af34e4"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Yt(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),t.push.apply(t,n)}return t}function ae(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yt(Object(t),!0).forEach(function(n){Qo(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Yt(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function Ke(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ke=function(e){return typeof e}:Ke=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(o)}function Qo(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function se(){return se=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},se.apply(this,arguments)}function Jo(o,e){if(o==null)return{};var t={},n=Object.keys(o),a,l;for(l=0;l<n.length;l++)a=n[l],!(e.indexOf(a)>=0)&&(t[a]=o[a]);return t}function ea(o,e){if(o==null)return{};var t=Jo(o,e),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var ta="1.15.0";function ie(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var re=ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ye=ie(/Edge/i),zt=ie(/firefox/i),Be=ie(/safari/i)&&!ie(/chrome/i)&&!ie(/android/i),dn=ie(/iP(ad|od|hone)/i),un=ie(/chrome/i)&&ie(/android/i),fn={capture:!1,passive:!1};function T(o,e,t){o.addEventListener(e,t,!re&&fn)}function A(o,e,t){o.removeEventListener(e,t,!re&&fn)}function nt(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function na(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function ne(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&nt(o,e):nt(o,e))||n&&o===t)return o;if(o===t)break}while(o=na(o))}return null}var Gt=/\s+/g;function V(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(Gt," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(Gt," ")}}function w(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function Se(o,e){var t="";if(typeof o=="string")t=o;else do{var n=w(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function pn(o,e,t){if(o){var n=o.getElementsByTagName(e),a=0,l=n.length;if(t)for(;a<l;a++)t(n[a],a);return n}return[]}function oe(){var o=document.scrollingElement;return o||document.documentElement}function B(o,e,t,n,a){if(!(!o.getBoundingClientRect&&o!==window)){var l,s,r,d,i,p,c;if(o!==window&&o.parentNode&&o!==oe()?(l=o.getBoundingClientRect(),s=l.top,r=l.left,d=l.bottom,i=l.right,p=l.height,c=l.width):(s=0,r=0,d=window.innerHeight,i=window.innerWidth,p=window.innerHeight,c=window.innerWidth),(e||t)&&o!==window&&(a=a||o.parentNode,!re))do if(a&&a.getBoundingClientRect&&(w(a,"transform")!=="none"||t&&w(a,"position")!=="static")){var g=a.getBoundingClientRect();s-=g.top+parseInt(w(a,"border-top-width")),r-=g.left+parseInt(w(a,"border-left-width")),d=s+l.height,i=r+l.width;break}while(a=a.parentNode);if(n&&o!==window){var m=Se(a||o),b=m&&m.a,v=m&&m.d;m&&(s/=v,r/=b,c/=b,p/=v,d=s+p,i=r+c)}return{top:s,left:r,bottom:d,right:i,width:c,height:p}}}function Wt(o,e,t){for(var n=pe(o,!0),a=B(o)[e];n;){var l=B(n)[t],s=void 0;if(t==="top"||t==="left"?s=a>=l:s=a<=l,!s)return n;if(n===oe())break;n=pe(n,!1)}return!1}function Ae(o,e,t,n){for(var a=0,l=0,s=o.children;l<s.length;){if(s[l].style.display!=="none"&&s[l]!==y.ghost&&(n||s[l]!==y.dragged)&&ne(s[l],t.draggable,o,!1)){if(a===e)return s[l];a++}l++}return null}function Mt(o,e){for(var t=o.lastElementChild;t&&(t===y.ghost||w(t,"display")==="none"||e&&!nt(t,e));)t=t.previousElementSibling;return t||null}function Q(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==y.clone&&(!e||nt(o,e))&&t++;return t}function Ut(o){var e=0,t=0,n=oe();if(o)do{var a=Se(o),l=a.a,s=a.d;e+=o.scrollLeft*l,t+=o.scrollTop*s}while(o!==n&&(o=o.parentNode));return[e,t]}function oa(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function pe(o,e){if(!o||!o.getBoundingClientRect)return oe();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=w(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return oe();if(n||e)return t;n=!0}}while(t=t.parentNode);return oe()}function aa(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function ut(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var He;function hn(o,e){return function(){if(!He){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),He=setTimeout(function(){He=void 0},e)}}}function la(){clearTimeout(He),He=void 0}function gn(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function mn(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}var K="Sortable"+new Date().getTime();function ia(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(w(a,"display")==="none"||a===y.ghost)){o.push({target:a,rect:B(a)});var l=ae({},o[o.length-1].rect);if(a.thisAnimationDuration){var s=Se(a,!0);s&&(l.top-=s.f,l.left-=s.e)}a.fromRect=l}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(oa(o,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,s=0;o.forEach(function(r){var d=0,i=r.target,p=i.fromRect,c=B(i),g=i.prevFromRect,m=i.prevToRect,b=r.rect,v=Se(i,!0);v&&(c.top-=v.f,c.left-=v.e),i.toRect=c,i.thisAnimationDuration&&ut(g,c)&&!ut(p,c)&&(b.top-c.top)/(b.left-c.left)===(p.top-c.top)/(p.left-c.left)&&(d=ra(b,g,m,a.options)),ut(c,p)||(i.prevFromRect=p,i.prevToRect=c,d||(d=a.options.animation),a.animate(i,b,c,d)),d&&(l=!0,s=Math.max(s,d),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},d),i.thisAnimationDuration=d)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),o=[]},animate:function(n,a,l,s){if(s){w(n,"transition",""),w(n,"transform","");var r=Se(this.el),d=r&&r.a,i=r&&r.d,p=(a.left-l.left)/(d||1),c=(a.top-l.top)/(i||1);n.animatingX=!!p,n.animatingY=!!c,w(n,"transform","translate3d("+p+"px,"+c+"px,0)"),this.forRepaintDummy=sa(n),w(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),w(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){w(n,"transition",""),w(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function sa(o){return o.offsetWidth}function ra(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var we=[],ft={initializeByDefault:!0},ze={mount:function(e){for(var t in ft)ft.hasOwnProperty(t)&&!(t in e)&&(e[t]=ft[t]);we.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),we.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var l=e+"Global";we.forEach(function(s){t[s.pluginName]&&(t[s.pluginName][l]&&t[s.pluginName][l](ae({sortable:t},n)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e](ae({sortable:t},n)))})},initializePlugins:function(e,t,n,a){we.forEach(function(r){var d=r.pluginName;if(!(!e.options[d]&&!r.initializeByDefault)){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[d]=i,se(n,i.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var s=this.modifyOption(e,l,e.options[l]);typeof s<"u"&&(e.options[l]=s)}},getEventProperties:function(e,t){var n={};return we.forEach(function(a){typeof a.eventProperties=="function"&&se(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return we.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[t]=="function"&&(a=l.optionListeners[t].call(e[l.pluginName],n))}),a}};function ca(o){var e=o.sortable,t=o.rootEl,n=o.name,a=o.targetEl,l=o.cloneEl,s=o.toEl,r=o.fromEl,d=o.oldIndex,i=o.newIndex,p=o.oldDraggableIndex,c=o.newDraggableIndex,g=o.originalEvent,m=o.putSortable,b=o.extraEventProperties;if(e=e||t&&t[K],!!e){var v,S=e.options,C="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!re&&!Ye?v=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(n,!0,!0)),v.to=s||t,v.from=r||t,v.item=a||t,v.clone=l,v.oldIndex=d,v.newIndex=i,v.oldDraggableIndex=p,v.newDraggableIndex=c,v.originalEvent=g,v.pullMode=m?m.lastPutMode:void 0;var k=ae(ae({},b),ze.getEventProperties(n,e));for(var G in k)v[G]=k[G];t&&t.dispatchEvent(v),S[C]&&S[C].call(e,v)}}var da=["evt"],Y=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,l=ea(n,da);ze.pluginEvent.bind(y)(e,t,ae({dragEl:h,parentEl:M,ghostEl:x,rootEl:P,nextEl:_e,lastDownEl:Qe,cloneEl:N,cloneHidden:fe,dragStarted:Ne,putSortable:H,activeSortable:y.active,originalEvent:a,oldIndex:De,oldDraggableIndex:Xe,newIndex:q,newDraggableIndex:ue,hideGhostForTarget:wn,unhideGhostForTarget:yn,cloneNowHidden:function(){fe=!0},cloneNowShown:function(){fe=!1},dispatchSortableEvent:function(r){j({sortable:t,name:r,originalEvent:a})}},l))};function j(o){ca(ae({putSortable:H,cloneEl:N,targetEl:h,rootEl:P,oldIndex:De,oldDraggableIndex:Xe,newIndex:q,newDraggableIndex:ue},o))}var h,M,x,P,_e,Qe,N,fe,De,q,Xe,ue,Ue,H,xe=!1,ot=!1,at=[],me,J,pt,ht,Vt,qt,Ne,ye,Re,je=!1,Ve=!1,Je,X,gt=[],Dt=!1,lt=[],dt=typeof document<"u",qe=dn,Zt=Ye||re?"cssFloat":"float",ua=dt&&!un&&!dn&&"draggable"in document.createElement("div"),vn=function(){if(dt){if(re)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),_n=function(e,t){var n=w(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=Ae(e,0,t),s=Ae(e,1,t),r=l&&w(l),d=s&&w(s),i=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+B(l).width,p=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+B(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var c=r.float==="left"?"left":"right";return s&&(d.clear==="both"||d.clear===c)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||i>=a&&n[Zt]==="none"||s&&n[Zt]==="none"&&i+p>a)?"vertical":"horizontal"},fa=function(e,t,n){var a=n?e.left:e.top,l=n?e.right:e.bottom,s=n?e.width:e.height,r=n?t.left:t.top,d=n?t.right:t.bottom,i=n?t.width:t.height;return a===r||l===d||a+s/2===r+i/2},pa=function(e,t){var n;return at.some(function(a){var l=a[K].options.emptyInsertThreshold;if(!(!l||Mt(a))){var s=B(a),r=e>=s.left-l&&e<=s.right+l,d=t>=s.top-l&&t<=s.bottom+l;if(r&&d)return n=a}}),n},bn=function(e){function t(l,s){return function(r,d,i,p){var c=r.options.group.name&&d.options.group.name&&r.options.group.name===d.options.group.name;if(l==null&&(s||c))return!0;if(l==null||l===!1)return!1;if(s&&l==="clone")return l;if(typeof l=="function")return t(l(r,d,i,p),s)(r,d,i,p);var g=(s?r:d).options.group.name;return l===!0||typeof l=="string"&&l===g||l.join&&l.indexOf(g)>-1}}var n={},a=e.group;(!a||Ke(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},wn=function(){!vn&&x&&w(x,"display","none")},yn=function(){!vn&&x&&w(x,"display","")};dt&&!un&&document.addEventListener("click",function(o){if(ot)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),ot=!1,!1},!0);var ve=function(e){if(h){e=e.touches?e.touches[0]:e;var t=pa(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[K]._onDragOver(n)}}},ha=function(e){h&&h.parentNode[K]._isOutsideThisEl(e.target)};function y(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=se({},e),o[K]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _n(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,r){s.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&!Be,emptyInsertThreshold:5};ze.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);bn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ua,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(o,"pointerdown",this._onTapStart):(T(o,"mousedown",this._onTapStart),T(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(o,"dragover",this),T(o,"dragenter",this)),at.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),se(this,ia())}y.prototype={constructor:y,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ye=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,l=a.preventOnFilter,s=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(r||e).target,i=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,p=a.filter;if(xa(n),!h&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||a.disabled)&&!i.isContentEditable&&!(!this.nativeDraggable&&Be&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=ne(d,a.draggable,n,!1),!(d&&d.animated)&&Qe!==d)){if(De=Q(d),Xe=Q(d,a.draggable),typeof p=="function"){if(p.call(this,e,d,this)){j({sortable:t,rootEl:i,name:"filter",targetEl:d,toEl:n,fromEl:n}),Y("filter",t,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(p&&(p=p.split(",").some(function(c){if(c=ne(i,c.trim(),n,!1),c)return j({sortable:t,rootEl:c,name:"filter",targetEl:d,fromEl:n,toEl:n}),Y("filter",t,{evt:e}),!0}),p)){l&&e.cancelable&&e.preventDefault();return}a.handle&&!ne(i,a.handle,n,!1)||this._prepareDragStart(e,r,d)}}},_prepareDragStart:function(e,t,n){var a=this,l=a.el,s=a.options,r=l.ownerDocument,d;if(n&&!h&&n.parentNode===l){var i=B(n);if(P=l,h=n,M=h.parentNode,_e=h.nextSibling,Qe=n,Ue=s.group,y.dragged=h,me={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},Vt=me.clientX-i.left,qt=me.clientY-i.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",d=function(){if(Y("delayEnded",a,{evt:e}),y.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!zt&&a.nativeDraggable&&(h.draggable=!0),a._triggerDragStart(e,t),j({sortable:a,name:"choose",originalEvent:e}),V(h,s.chosenClass,!0)},s.ignore.split(",").forEach(function(p){pn(h,p.trim(),mt)}),T(r,"dragover",ve),T(r,"mousemove",ve),T(r,"touchmove",ve),T(r,"mouseup",a._onDrop),T(r,"touchend",a._onDrop),T(r,"touchcancel",a._onDrop),zt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),Y("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ye||re))){if(y.eventCanceled){this._onDrop();return}T(r,"mouseup",a._disableDelayedDrag),T(r,"touchend",a._disableDelayedDrag),T(r,"touchcancel",a._disableDelayedDrag),T(r,"mousemove",a._delayedDragTouchMoveHandler),T(r,"touchmove",a._delayedDragTouchMoveHandler),s.supportPointer&&T(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(d,s.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&mt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._disableDelayedDrag),A(e,"touchend",this._disableDelayedDrag),A(e,"touchcancel",this._disableDelayedDrag),A(e,"mousemove",this._delayedDragTouchMoveHandler),A(e,"touchmove",this._delayedDragTouchMoveHandler),A(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):t?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(h,"dragend",this),T(P,"dragstart",this._onDragStart));try{document.selection?et(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(xe=!1,P&&h){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&T(document,"dragover",ha);var n=this.options;!e&&V(h,n.dragClass,!1),V(h,n.ghostClass,!0),y.active=this,e&&this._appendGhost(),j({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(J){this._lastX=J.clientX,this._lastY=J.clientY,wn();for(var e=document.elementFromPoint(J.clientX,J.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(J.clientX,J.clientY),e!==t);)t=e;if(h.parentNode[K]._isOutsideThisEl(e),t)do{if(t[K]){var n=void 0;if(n=t[K]._onDragOver({clientX:J.clientX,clientY:J.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);yn()}},_onTouchMove:function(e){if(me){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,l=e.touches?e.touches[0]:e,s=x&&Se(x,!0),r=x&&s&&s.a,d=x&&s&&s.d,i=qe&&X&&Ut(X),p=(l.clientX-me.clientX+a.x)/(r||1)+(i?i[0]-gt[0]:0)/(r||1),c=(l.clientY-me.clientY+a.y)/(d||1)+(i?i[1]-gt[1]:0)/(d||1);if(!y.active&&!xe){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(x){s?(s.e+=p-(pt||0),s.f+=c-(ht||0)):s={a:1,b:0,c:0,d:1,e:p,f:c};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");w(x,"webkitTransform",g),w(x,"mozTransform",g),w(x,"msTransform",g),w(x,"transform",g),pt=p,ht=c,J=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!x){var e=this.options.fallbackOnBody?document.body:P,t=B(h,!0,qe,!0,e),n=this.options;if(qe){for(X=e;w(X,"position")==="static"&&w(X,"transform")==="none"&&X!==document;)X=X.parentNode;X!==document.body&&X!==document.documentElement?(X===document&&(X=oe()),t.top+=X.scrollTop,t.left+=X.scrollLeft):X=oe(),gt=Ut(X)}x=h.cloneNode(!0),V(x,n.ghostClass,!1),V(x,n.fallbackClass,!0),V(x,n.dragClass,!0),w(x,"transition",""),w(x,"transform",""),w(x,"box-sizing","border-box"),w(x,"margin",0),w(x,"top",t.top),w(x,"left",t.left),w(x,"width",t.width),w(x,"height",t.height),w(x,"opacity","0.8"),w(x,"position",qe?"absolute":"fixed"),w(x,"zIndex","100000"),w(x,"pointerEvents","none"),y.ghost=x,e.appendChild(x),w(x,"transform-origin",Vt/parseInt(x.style.width)*100+"% "+qt/parseInt(x.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,l=n.options;if(Y("dragStart",this,{evt:e}),y.eventCanceled){this._onDrop();return}Y("setupClone",this),y.eventCanceled||(N=mn(h),N.removeAttribute("id"),N.draggable=!1,N.style["will-change"]="",this._hideClone(),V(N,this.options.chosenClass,!1),y.clone=N),n.cloneId=et(function(){Y("clone",n),!y.eventCanceled&&(n.options.removeCloneOnHide||P.insertBefore(N,h),n._hideClone(),j({sortable:n,name:"clone"}))}),!t&&V(h,l.dragClass,!0),t?(ot=!0,n._loopId=setInterval(n._emulateDragOver,50)):(A(document,"mouseup",n._onDrop),A(document,"touchend",n._onDrop),A(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(n,a,h)),T(document,"drop",n),w(h,"transform","translateZ(0)")),xe=!0,n._dragStartId=et(n._dragStarted.bind(n,t,e)),T(document,"selectstart",n),Ne=!0,Be&&w(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,a,l,s,r=this.options,d=r.group,i=y.active,p=Ue===d,c=r.sort,g=H||i,m,b=this,v=!1;if(Dt)return;function S(Pe,Sn){Y(Pe,b,ae({evt:e,isOwner:p,axis:m?"vertical":"horizontal",revert:s,dragRect:a,targetRect:l,canSort:c,fromSortable:g,target:n,completed:k,onMove:function(Ht,Cn){return Ze(P,t,h,a,Ht,B(Ht),e,Cn)},changed:G},Sn))}function C(){S("dragOverAnimationCapture"),b.captureAnimationState(),b!==g&&g.captureAnimationState()}function k(Pe){return S("dragOverCompleted",{insertion:Pe}),Pe&&(p?i._hideClone():i._showClone(b),b!==g&&(V(h,H?H.options.ghostClass:i.options.ghostClass,!1),V(h,r.ghostClass,!0)),H!==b&&b!==y.active?H=b:b===y.active&&H&&(H=null),g===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){S("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===h&&!h.animated||n===t&&!n.animated)&&(ye=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(h.parentNode[K]._isOutsideThisEl(e.target),!Pe&&ve(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function G(){q=Q(h),ue=Q(h,r.draggable),j({sortable:b,name:"change",toEl:t,newIndex:q,newDraggableIndex:ue,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ne(n,r.draggable,t,!0),S("dragOver"),y.eventCanceled)return v;if(h.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return k(!1);if(ot=!1,i&&!r.disabled&&(p?c||(s=M!==P):H===this||(this.lastPutMode=Ue.checkPull(this,i,h,e))&&d.checkPut(this,i,h,e))){if(m=this._getDirection(e,n)==="vertical",a=B(h),S("dragOverValid"),y.eventCanceled)return v;if(s)return M=P,C(),this._hideClone(),S("revert"),y.eventCanceled||(_e?P.insertBefore(h,_e):P.appendChild(h)),k(!0);var F=Mt(t,r.draggable);if(!F||_a(e,m,this)&&!F.animated){if(F===h)return k(!1);if(F&&t===e.target&&(n=F),n&&(l=B(n)),Ze(P,t,h,a,n,l,e,!!n)!==!1)return C(),F&&F.nextSibling?t.insertBefore(h,F.nextSibling):t.appendChild(h),M=t,G(),k(!0)}else if(F&&va(e,m,this)){var W=Ae(t,0,r,!0);if(W===h)return k(!1);if(n=W,l=B(n),Ze(P,t,h,a,n,l,e,!1)!==!1)return C(),t.insertBefore(h,W),M=t,G(),k(!0)}else if(n.parentNode===t){l=B(n);var u=0,he,Te=h.parentNode!==t,U=!fa(h.animated&&h.toRect||a,n.animated&&n.toRect||l,m),$e=m?"top":"left",ce=Wt(n,"top","top")||Wt(h,"top","top"),Oe=ce?ce.scrollTop:void 0;ye!==n&&(he=l[$e],je=!1,Ve=!U&&r.invertSwap||Te),u=ba(e,n,l,m,U?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Ve,ye===n);var le;if(u!==0){var ge=Q(h);do ge-=u,le=M.children[ge];while(le&&(w(le,"display")==="none"||le===x))}if(u===0||le===n)return k(!1);ye=n,Re=u;var ke=n.nextElementSibling,de=!1;de=u===1;var Ge=Ze(P,t,h,a,n,l,e,de);if(Ge!==!1)return(Ge===1||Ge===-1)&&(de=Ge===1),Dt=!0,setTimeout(ma,30),C(),de&&!ke?t.appendChild(h):n.parentNode.insertBefore(h,de?ke:n),ce&&gn(ce,0,Oe-ce.scrollTop),M=h.parentNode,he!==void 0&&!Ve&&(Je=Math.abs(he-B(n)[$e])),G(),k(!0)}if(t.contains(h))return k(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){A(document,"mousemove",this._onTouchMove),A(document,"touchmove",this._onTouchMove),A(document,"pointermove",this._onTouchMove),A(document,"dragover",ve),A(document,"mousemove",ve),A(document,"touchmove",ve)},_offUpEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._onDrop),A(e,"touchend",this._onDrop),A(e,"pointerup",this._onDrop),A(e,"touchcancel",this._onDrop),A(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(q=Q(h),ue=Q(h,n.draggable),Y("drop",this,{evt:e}),M=h&&h.parentNode,q=Q(h),ue=Q(h,n.draggable),y.eventCanceled){this._nulling();return}xe=!1,Ve=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(A(document,"drop",this),A(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Be&&w(document.body,"user-select",""),w(h,"transform",""),e&&(Ne&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),x&&x.parentNode&&x.parentNode.removeChild(x),(P===M||H&&H.lastPutMode!=="clone")&&N&&N.parentNode&&N.parentNode.removeChild(N),h&&(this.nativeDraggable&&A(h,"dragend",this),mt(h),h.style["will-change"]="",Ne&&!xe&&V(h,H?H.options.ghostClass:this.options.ghostClass,!1),V(h,this.options.chosenClass,!1),j({sortable:this,name:"unchoose",toEl:M,newIndex:null,newDraggableIndex:null,originalEvent:e}),P!==M?(q>=0&&(j({rootEl:M,name:"add",toEl:M,fromEl:P,originalEvent:e}),j({sortable:this,name:"remove",toEl:M,originalEvent:e}),j({rootEl:M,name:"sort",toEl:M,fromEl:P,originalEvent:e}),j({sortable:this,name:"sort",toEl:M,originalEvent:e})),H&&H.save()):q!==De&&q>=0&&(j({sortable:this,name:"update",toEl:M,originalEvent:e}),j({sortable:this,name:"sort",toEl:M,originalEvent:e})),y.active&&((q==null||q===-1)&&(q=De,ue=Xe),j({sortable:this,name:"end",toEl:M,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Y("nulling",this),P=h=M=x=_e=N=Qe=fe=me=J=Ne=q=ue=De=Xe=ye=Re=H=Ue=y.dragged=y.ghost=y.clone=y.active=null,lt.forEach(function(e){e.checked=!0}),lt.length=pt=ht=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),ga(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,a=0,l=n.length,s=this.options;a<l;a++)t=n[a],ne(t,s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||ya(t));return e},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(l,s){var r=a.children[s];ne(r,this.options.draggable,a,!1)&&(n[l]=r)},this),t&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(a.removeChild(n[l]),a.appendChild(n[l]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ne(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var a=ze.modifyOption(this,e,t);typeof a<"u"?n[e]=a:n[e]=t,e==="group"&&bn(n)},destroy:function(){Y("destroy",this);var e=this.el;e[K]=null,A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart),A(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(A(e,"dragover",this),A(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),at.splice(at.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!fe){if(Y("hideClone",this),y.eventCanceled)return;w(N,"display","none"),this.options.removeCloneOnHide&&N.parentNode&&N.parentNode.removeChild(N),fe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(fe){if(Y("showClone",this),y.eventCanceled)return;h.parentNode==P&&!this.options.group.revertClone?P.insertBefore(N,h):_e?P.insertBefore(N,_e):P.appendChild(N),this.options.group.revertClone&&this.animate(h,N),w(N,"display",""),fe=!1}}};function ga(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Ze(o,e,t,n,a,l,s,r){var d,i=o[K],p=i.options.onMove,c;return window.CustomEvent&&!re&&!Ye?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=o,d.dragged=t,d.draggedRect=n,d.related=a||e,d.relatedRect=l||B(e),d.willInsertAfter=r,d.originalEvent=s,o.dispatchEvent(d),p&&(c=p.call(i,d,s)),c}function mt(o){o.draggable=!1}function ma(){Dt=!1}function va(o,e,t){var n=B(Ae(t.el,0,t.options,!0)),a=10;return e?o.clientX<n.left-a||o.clientY<n.top&&o.clientX<n.right:o.clientY<n.top-a||o.clientY<n.bottom&&o.clientX<n.left}function _a(o,e,t){var n=B(Mt(t.el,t.options.draggable)),a=10;return e?o.clientX>n.right+a||o.clientX<=n.right&&o.clientY>n.bottom&&o.clientX>=n.left:o.clientX>n.right&&o.clientY>n.top||o.clientX<=n.right&&o.clientY>n.bottom+a}function ba(o,e,t,n,a,l,s,r){var d=n?o.clientY:o.clientX,i=n?t.height:t.width,p=n?t.top:t.left,c=n?t.bottom:t.right,g=!1;if(!s){if(r&&Je<i*a){if(!je&&(Re===1?d>p+i*l/2:d<c-i*l/2)&&(je=!0),je)g=!0;else if(Re===1?d<p+Je:d>c-Je)return-Re}else if(d>p+i*(1-a)/2&&d<c-i*(1-a)/2)return wa(e)}return g=g||s,g&&(d<p+i*l/2||d>c-i*l/2)?d>p+i/2?1:-1:0}function wa(o){return Q(h)<Q(o)?1:-1}function ya(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function xa(o){lt.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&lt.push(n)}}function et(o){return setTimeout(o,0)}function St(o){return clearTimeout(o)}dt&&T(document,"touchmove",function(o){(y.active||xe)&&o.cancelable&&o.preventDefault()});y.utils={on:T,off:A,css:w,find:pn,is:function(e,t){return!!ne(e,t,e,!1)},extend:aa,throttle:hn,closest:ne,toggleClass:V,clone:mn,index:Q,nextTick:et,cancelNextTick:St,detectDirection:_n,getChild:Ae};y.get=function(o){return o[K]};y.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(y.utils=ae(ae({},y.utils),n.utils)),ze.mount(n)})};y.create=function(o,e){return new y(o,e)};y.version=ta;var L=[],Me,Ct,At=!1,vt,_t,it,Fe;function Ea(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):n.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):(A(document,"pointermove",this._handleFallbackAutoScroll),A(document,"touchmove",this._handleFallbackAutoScroll),A(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),tt(),la()},nulling:function(){it=Ct=Me=At=Fe=vt=_t=null,L.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var a=this,l=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(l,s);if(it=t,n||this.options.forceAutoScrollFallback||Ye||re||Be){bt(t,this.options,r,n);var d=pe(r,!0);At&&(!Fe||l!==vt||s!==_t)&&(Fe&&Kt(),Fe=setInterval(function(){var i=pe(document.elementFromPoint(l,s),!0);i!==d&&(d=i,tt()),bt(t,a.options,i,n)},10),vt=l,_t=s)}else{if(!this.options.bubbleScroll||pe(r,!0)===oe()){tt();return}bt(t,this.options,pe(r,!1),!1)}}},se(o,{pluginName:"scroll",initializeByDefault:!0})}function tt(){L.forEach(function(o){clearInterval(o.pid)}),L=[]}function Kt(){clearInterval(Fe)}var bt=hn(function(o,e,t,n){if(e.scroll){var a=(o.touches?o.touches[0]:o).clientX,l=(o.touches?o.touches[0]:o).clientY,s=e.scrollSensitivity,r=e.scrollSpeed,d=oe(),i=!1,p;Ct!==t&&(Ct=t,tt(),Me=e.scroll,p=e.scrollFn,Me===!0&&(Me=pe(t,!0)));var c=0,g=Me;do{var m=g,b=B(m),v=b.top,S=b.bottom,C=b.left,k=b.right,G=b.width,F=b.height,W=void 0,u=void 0,he=m.scrollWidth,Te=m.scrollHeight,U=w(m),$e=m.scrollLeft,ce=m.scrollTop;m===d?(W=G<he&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),u=F<Te&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(W=G<he&&(U.overflowX==="auto"||U.overflowX==="scroll"),u=F<Te&&(U.overflowY==="auto"||U.overflowY==="scroll"));var Oe=W&&(Math.abs(k-a)<=s&&$e+G<he)-(Math.abs(C-a)<=s&&!!$e),le=u&&(Math.abs(S-l)<=s&&ce+F<Te)-(Math.abs(v-l)<=s&&!!ce);if(!L[c])for(var ge=0;ge<=c;ge++)L[ge]||(L[ge]={});(L[c].vx!=Oe||L[c].vy!=le||L[c].el!==m)&&(L[c].el=m,L[c].vx=Oe,L[c].vy=le,clearInterval(L[c].pid),(Oe!=0||le!=0)&&(i=!0,L[c].pid=setInterval(function(){n&&this.layer===0&&y.active._onTouchMove(it);var ke=L[this.layer].vy?L[this.layer].vy*r:0,de=L[this.layer].vx?L[this.layer].vx*r:0;typeof p=="function"&&p.call(y.dragged.parentNode[K],de,ke,o,it,L[this.layer].el)!=="continue"||gn(L[this.layer].el,de,ke)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&g!==d&&(g=pe(g,!1)));At=i}},30),xn=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,l=e.activeSortable,s=e.dispatchSortableEvent,r=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(t){var i=n||l;r();var p=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(p.clientX,p.clientY);d(),i&&!i.el.contains(c)&&(s("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Ft(){}Ft.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Ae(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:xn};se(Ft,{pluginName:"revertOnSpill"});function Lt(){}Lt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:xn};se(Lt,{pluginName:"removeOnSpill"});y.mount(new Ea);y.mount(Lt,Ft);var Da=Object.defineProperty,st=Object.getOwnPropertySymbols,En=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,Qt=(o,e,t)=>e in o?Da(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Jt=(o,e)=>{for(var t in e||(e={}))En.call(e,t)&&Qt(o,t,e[t]);if(st)for(var t of st(e))Dn.call(e,t)&&Qt(o,t,e[t]);return o},Sa=(o,e)=>{var t={};for(var n in o)En.call(o,n)&&e.indexOf(n)<0&&(t[n]=o[n]);if(o!=null&&st)for(var n of st(o))e.indexOf(n)<0&&Dn.call(o,n)&&(t[n]=o[n]);return t};function en(o,e,t={}){let n;const a=t,{document:l=On}=a,s=Sa(a,["document"]),r={onUpdate:p=>{Ca(e,p.oldIndex,p.newIndex)}},d=()=>{const p=typeof o=="string"?l==null?void 0:l.querySelector(o):$n(o);p&&(n=new y(p,Jt(Jt({},r),s)))},i=()=>n==null?void 0:n.destroy();return Tn(d),kn(i),{stop:i,start:d}}function Ca(o,e,t){const n=Pn(o);if(t>=0&&t<n.length){const a=n.splice(e,1)[0];yt(()=>n.splice(t,0,a))}}function tn(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Aa={"aria-label":"download section",class:"bg-bg-10 flex flex-1 flex-col !overflow-hidden rounded-2xl p-4 shadow-lg"},Ia={class:"flex h-full flex-col gap-6 overflow-y-auto overflow-x-hidden rounded-2xl p-4"},Ta={"aria-label":"unscheduled items",class:"flex w-full flex-col gap-4"},$a={class:"flex items-center gap-4"},Oa={class:"whitespace-nowrap font-semibold"},ka=f("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Pa={"aria-label":"scheduled items",class:"flex w-full flex-col gap-4"},Na={class:"flex items-center gap-4"},Ma={class:"whitespace-nowrap font-semibold"},Fa=f("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),La=be({__name:"DownloadManagerDownloadSection",setup(o){const e=te(),t=te(),n=te(!0),{scheduledDownloadables:a,unscheduledDownloadables:l}=Ce();function s(){const i=tn([e,"access",c=>c.value,"optionalAccess",c=>c.children]),p=tn([t,"access",c=>c.value,"optionalAccess",c=>c.children]);if(!i||!p)return!1;if(i.length!==a.value.length||p.length!==l.value.length)return!0;for(let c=0;c<i.length;c++)if(i[c].getAttribute("dl-id")!==a.value[c].id.toString())return!0;for(let c=0;c<p.length;c++)if(p[c].getAttribute("dl-id")!==l.value[c].id.toString())return!0;return!1}function r(){console.warn("Detected desync, rerendering..."),n.value=!1,yt(()=>n.value=!0)}function d(i,p,c,g){if(g>=0&&g<p.value.length+1){const m=i.value.splice(c,1)[0];m&&p.value.splice(g,0,m)}yt(()=>{s()&&r()})}return en(e,a,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(i){d(l,a,i.oldIndex,i.newIndex)},onUpdate:function(i){d(a,a,i.oldIndex,i.newIndex)}}),en(t,l,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(i){d(a,l,i.oldIndex,i.newIndex)},onUpdate:function(i){d(l,l,i.oldIndex,i.newIndex)}}),(i,p)=>{const c=Ko;return I(),O("section",Aa,[f("div",Ia,[f("section",Ta,[f("div",$a,[f("h4",Oa,E(i.$t("scheduledDownload")),1),ka]),f("div",{ref_key:"scheduledEl",ref:e,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(I(!0),O(xt,null,Et(_(n)?_(a):[],g=>(I(),Ee(c,{key:g.id,dir:"ltr","dl-id":g.id,data:g,class:ee({hidden:g.downloading})},null,8,["dl-id","data","class"]))),128))],512)]),f("section",Pa,[f("div",Na,[f("h4",Ma,E(i.$t("unScheduledDownload")),1),Fa]),f("div",{ref_key:"unscheduledEl",ref:t,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(I(!0),O(xt,null,Et(_(n)?_(l):[],g=>(I(),Ee(c,{key:g.id,dir:"ltr","dl-id":g.id,data:g},null,8,["dl-id","data"]))),128))],512)])])])}}});function nn(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Ba={class:"flex w-full items-center gap-2"},Ha={class:"flex gap-2"},Xa={class:"bg-bg-8 w-poster-small h-poster-small shrink-0 overflow-hidden rounded-md"},Ra={class:"flex flex-col items-start justify-start gap-1"},ja={class:"line-clamp-1 break-all text-sm",dir:"ltr"},Ya={key:0,class:"text-fonts-300 ltr-dir text-xs font-bold"},za={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-xs font-bold"},Ga={class:"text-fonts-300 ltr-dir text-xs font-bold"},Wa={class:"flex flex-col gap-2 px-1 opacity-0 transition-opacity group-hover:opacity-100"},Ua=be({__name:"DownloadManagerHistoryItem",props:{data:{}},setup(o){const{showPath:e,openPath:t,completedDownloadables:n}=Ce();function a(r){n&&(n.value=n.value.filter(d=>d.id!==r))}const l=te();async function s(){await new Promise(i=>setTimeout(i,250));const r=nn([l,"access",i=>i.value,"optionalAccess",i=>i.$el,"access",i=>i.children,"access",i=>i[0]]),d=nn([l,"access",i=>i.value,"optionalAccess",i=>i.$el,"access",i=>i.children,"access",i=>i[1]]);r&&r.tagName==="CANVAS"&&(r.style.opacity=0),d&&d.tagName==="IMG"&&(d.style.opacity=1)}return(r,d)=>{const i=$t("vue3-blurhash"),p=It,c=rt,g=ct;return I(),O("div",Ba,[f("div",Ha,[D(p,{to:`/single/${r.data.postId}`},{default:R(()=>[f("div",Xa,[D(i,{ref_key:"img",ref:l,src:r.data.image.poster.webp,punch:1,hash:r.data.image.poster.preview,height:"100%",class:"blur-img",width:"100%","resolution-x":10,"resolution-y":10,onImageLoaded:s},null,8,["src","hash"])])]),_:1},8,["to"]),f("div",Ra,[f("h6",ja,E(r.data.title),1),r.data.season!==void 0&&r.data.episode!==void 0?(I(),O("p",Ya,"S"+E(r.data.season)+"E"+E(r.data.episode),1)):Z("",!0),f("p",za,E(r.data.quality),1),f("p",Ga,E(r.data.size),1)])]),f("ul",Wa,[f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:d[0]||(d[0]=m=>_(t)(r.data.path))},[D(c,{name:"ph:play-fill",class:"h-6 w-6"}),D(g,{placement:"top"},{default:R(()=>[z(E(r.$t("play")),1)]),_:1})]),f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:d[1]||(d[1]=m=>_(e)(r.data.path))},[D(c,{name:"ph:folder-fill",class:"h-6 w-6"}),D(g,{placement:"top"},{default:R(()=>[z(E(r.$t("browseLocation")),1)]),_:1})]),f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:d[2]||(d[2]=m=>a(r.data.id))},[D(c,{name:"ph:trash-fill",class:"h-6 w-6"}),D(g,{placement:"top"},{default:R(()=>[z(E(r.$t("removeFromHistory")),1)]),_:1})])])])}}});function Va(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Bt=o=>(Ot("data-v-04065ef9"),o=o(),kt(),o),qa={"aria-label":"download manager sidebar",class:"flex h-full w-[18rem] flex-col rounded-2xl bg-bg-10 shadow-lg"},Za={"aria-label":"storage section",class:"relative flex w-full flex-col items-center gap-4 p-4"},Ka={class:"w-full font-semibold"},Qa={class:"relative flex items-center justify-center"},Ja={class:"absolute top-[4.5rem] flex transform flex-col items-center gap-2"},el={class:"local-numbers text-4xl font-bold"},tl=Bt(()=>f("span",{class:"absolute h-4 w-4 rounded-full bg-bg-1 blur-md"},null,-1)),nl={class:"flex flex-row items-center gap-1",dir:"ltr"},ol={key:0},al=Bt(()=>f("p",null,"/",-1)),ll={key:1},il={key:0,class:"absolute flex w-full flex-col items-center justify-center gap-4 text-3xl text-fonts-300"},sl={"aria-label":"history section",class:"flex w-full flex-1 flex-col items-center gap-4 overflow-auto p-4"},rl={class:"w-full font-semibold"},cl={class:"flex w-full flex-1 overflow-y-auto"},dl={key:0,class:"flex w-full flex-col overflow-y-auto"},ul=Bt(()=>f("span",{class:"line my-2 h-[2px] w-[90%] self-center rounded-full bg-bg-9/30 px-12"},null,-1)),fl={key:1,class:"flex w-full flex-col items-center justify-center gap-4 text-fonts-400"},pl={class:"mb-32 font-bold"},hl=be({__name:"DownloadManagerSidebar",setup(o){const{bytesToSize:e}=Le.core,{getStorageStats:t,completedDownloadables:n}=Ce(),{downloadPath:a}=Ce(),l=te(),s=te(),r=te(!0),d=ln(()=>s.value&&l.value?Math.floor(s.value/l.value*100):0);async function i(){if(!t)return;const{freeSpace:c,totalSpace:g}=await t();l.value=g,s.value=g-c}Tt(async()=>{await i(),r.value=!1,setInterval(i,1e3*60*5)}),sn(a,()=>{i()});const p=cn();return(c,g)=>{const m=rt,b=ct,v=Bn,S=Nn,C=Ua;return I(),O("section",qa,[f("header",Za,[f("h4",Ka,E(c.$t("storage"))+":",1),f("div",{class:"absolute top-4 flex cursor-pointer rounded-full bg-bg-1/0 p-2 opacity-30 transition-all hover:bg-bg-1/10 hover:opacity-100 ltr:right-4 rtl:left-4",onClick:g[0]||(g[0]=k=>_(p).toggleDownloadFolder())},[D(m,{name:"ph:folder-fill"}),D(b,{placement:"top"},{default:R(()=>[z(E(c.$t("storageLocation")),1)]),_:1})]),f("div",Qa,[f("div",{class:ee(["relative flex flex-col items-center justify-center gap-4 transition-opacity",{"pointer-events-none opacity-0":_(r)}])},[D(v,{size:180,"stroke-width":12,linecap:"round",progress:_(d)},null,8,["progress"]),f("span",Ja,[f("h4",el,E(_(d))+"%",1),tl]),f("div",nl,[_(s)?(I(),O("p",ol,E(_(e)(_(s))),1)):Z("",!0),al,_(l)?(I(),O("p",ll,E(_(e)(_(l))),1)):Z("",!0)])],2),_(r)?(I(),O("div",il,[D(S,{type:"circle"})])):Z("",!0)])]),f("section",sl,[f("h4",rl,E(c.$t("history"))+":",1),f("div",cl,[Va([_,"call",k=>k(n),"optionalAccess",k=>k.length])?(I(),O("ul",dl,[(I(!0),O(xt,null,Et(_(n),k=>(I(),O("li",{key:k.id,class:"history-item group flex w-full flex-col"},[D(C,{data:k},null,8,["data"]),ul]))),128))])):(I(),O("div",fl,[D(m,{name:"ph:download-fill",class:"text-4xl"}),f("h5",pl,E(c.$t("downloadHistoryIsEmpty")),1)]))])])])}}});const gl=Pt(hl,[["__scopeId","data-v-04065ef9"]]);function wt(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const ml={class:"flex h-full gap-8 ltr:pr-4 rtl:flex-row-reverse rtl:pl-4"},vl={class:"flex h-full w-full flex-col gap-8"},El=be({__name:"download-manager",setup(o){const{isLoggedIn:e,user:t}=Mn(),{isElectron:n}=Fn();if(!n||!e||!wt([t,"optionalAccess",a=>a.user_allowed_to_download]))throw Ln({statusCode:404,fatal:!0,statusMessage:"Page Not Found"});return Tt(()=>{const a=document.getElementById("main-scroller");wt([a,"optionalAccess",l=>l.classList,"access",l=>l.add,"call",l=>l("overflow-hidden-force")])}),an(()=>{const a=document.getElementById("main-scroller");wt([a,"optionalAccess",l=>l.classList,"access",l=>l.remove,"call",l=>l("overflow-hidden-force")])}),(a,l)=>{const s=To,r=La,d=gl;return I(),O("div",ml,[f("div",vl,[D(s,{dir:"ltr"}),D(r)]),D(d)])}}});export{El as default};
