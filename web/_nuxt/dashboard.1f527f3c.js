import{d as z,C as Q,b as G,ad as W,r as S,l as I,z as q,u as J,q as M,o as i,e as u,f as t,h as p,w as g,g as e,H as P,Q as y,t as b,M as B,N as A,x as D,y as v,G as K,I as Y,J as O,K as Z,a0 as R,a1 as X,m as T,ae as ee,Y as te,E as se,af as le,ag as oe,c as ne}from"./entry.63203ae2.js";import{_ as ae}from"./BaseScore.vue.979d75d4.js";import{_ as ie}from"./nuxt-link.bc2b4c04.js";import{_ as re}from"./HeroSlider.3ce8dbf5.js";import{S as j,G as H,a as E}from"./splide-extension-grid.esm.fed36950.js";import"./BaseChip.vue.05b745c1.js";function ce(r){let n,s=r[0],c=1;for(;c<r.length;){const o=r[c],d=r[c+1];if(c+=2,(o==="optionalAccess"||o==="optionalCall")&&s==null)return;o==="access"||o==="optionalAccess"?(n=s,s=d(s)):(o==="call"||o==="optionalCall")&&(s=d((...l)=>s.call(n,...l)),n=void 0)}return s}const V=r=>(R("data-v-33e85d28"),r=r(),X(),r),de={"aria-label":"continue watching",class:"bg-bg-13 relative flex h-[30em] w-full items-center justify-between rounded-2xl p-8"},ue={class:"flex h-full w-full flex-row items-center gap-8"},pe=["src","alt"],fe=["src","alt"],_e={key:1,class:"bg-bg-10 h-full w-[17.32em] shrink-0 rounded-xl"},he={class:"z-10 flex h-full min-w-[12em] flex-col items-start gap-4"},ge={class:"text-fonts-50 line-clamp-1 shrink-0 break-all text-xl font-semibold ltr:pr-12 rtl:pl-12",dir:"ltr"},me={class:"relative line-clamp-1 flex max-w-[90%] shrink-0 flex-col break-all text-lg"},xe={class:"local-numbers relative line-clamp-1 flex max-w-[90%] shrink-0 flex-col break-all text-lg"},be={key:0,class:"mt-2 flex flex-row flex-wrap gap-2 text-xs"},ve={class:"relative h-[14em] w-[20em]"},we=V(()=>t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 20C0 8.95431 8.95431 0 20 0H300C311.046 0 320 8.95431 320 20V204C320 215.046 311.046 224 300 224H153C139.667 223.833 113 215.6 113 184V161C113 121.808 79.6667 111.337 63 111H40C26.6667 110.833 0 102.6 0 71V20Z"},null,-1)),ye=[we],ke={class:"relative p-4"},$e={class:"line-clamp-[4] text-sm"},Ce={class:"absolute inset-0 h-full w-full origin-center -rotate-90"},Se=["stroke-dashoffset"],Ie=["stroke-dashoffset"],Be=V(()=>t("span",{class:"absolute h-6 w-6 rounded-full bg-white/50 opacity-0 blur-lg transition-all group-hover:opacity-100"},null,-1)),Ae={class:"absolute bottom-5 ltr:left-5 rtl:right-5"},Pe={class:"z-10"},He={class:"relative flex w-[16em] flex-col gap-4"},Ne={class:"relative flex flex-row"},ze=["onClick"],We=["src","alt"],De={class:"flex w-full flex-row gap-2"},Ve=V(()=>t("button",null,null,-1)),Le=z({__name:"ContinueWatching",props:{data:{}},setup(r){const n=r,s=Q(),{t:c}=G(),o=W(),d=S(0),l=I(()=>n.data[d.value]),{dataFetchers:k}=q(),{fetchContinueWatchings:w}=k,a=I(()=>{const f=S(n.data),h=f.value.indexOf(l.value);return f.value.slice(h,h+3)});async function _(f){o.dismissContinueWatching(f);const h=await Y.API.actions.continue_watching_dismiss(f);ce([h,"optionalAccess",C=>C.success])&&s(c("removedItemFromContinueWatching"),"SUCCESS")}const{theme:$}=J();return M(async()=>{await w(!0)}),(f,h)=>{const C=O,F=ae,L=ie,U=Z;return i(),u("section",de,[t("article",ue,[p(P,{name:"fade-preset",mode:"out-in"},{default:g(()=>[(i(),u("img",{key:e(l).id,draggable:"false",src:e(l).image.cover.webp,class:"absolute inset-0 z-10 h-full w-full rounded-2xl object-cover brightness-[0.2] grayscale-[0.3]",alt:e(l).title.english+"cover"},null,8,pe))]),_:1}),p(P,{name:"fade-preset",mode:"out-in"},{default:g(()=>[(i(),u("div",{key:e(l).id,class:"poster z-10 flex h-full shrink-0"},[e(l).image.poster.webp.big?(i(),u("img",{key:0,draggable:"false",src:e(l).image.poster.webp.big,class:"bg-bg-10 flex h-full w-[17.32em] shrink-0 rounded-xl",alt:e(l).title.english+"poster"},null,8,fe)):(i(),u("div",_e))]))]),_:1}),t("figure",he,[t("div",{class:y(["bg-bg-3/10 flex min-w-[20em] max-w-[30em] flex-1 flex-col items-start gap-2 rounded-2xl p-4 backdrop-blur-sm",{"bg-bg-8/80":e($)==="light"}])},[t("div",{class:"bg-bg-1/0 hover:bg-bg-1/10 absolute top-4 flex cursor-pointer rounded-full p-2 opacity-30 transition-all hover:opacity-100 ltr:right-4 rtl:left-4",onClick:h[0]||(h[0]=m=>_(e(l).id))},[p(C,{name:"ph:trash-fill"})]),t("p",ge,b(e(l).title.english),1),t("p",me,b(e(l).title.local),1),t("p",xe,b(e(l).data.episode_title),1),e(l).score?(i(),u("ul",be,[(i(!0),u(B,null,A(e(l).score,(m,x)=>(i(),u("div",{key:x},[x==="30nama"||x==="imdb"||x==="myanimelist"?(i(),D(F,{key:0,type:x,background:"bg-bg-9/50",data:m},null,8,["type","data"])):v("",!0)]))),128))])):v("",!0)],2),t("div",ve,[(i(),u("svg",{class:y(["fill-bg-3/10 absolute h-full backdrop-blur-sm ltr:-scale-x-100",{"fill-bg-8/80":e($)==="light"}]),viewBox:"0 0 320 224",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye,2)),t("div",ke,[t("p",$e,b(e(l).plot.local),1)]),p(L,{to:`/play/${e(l).id}`},{default:g(()=>[t("div",{class:y(["group absolute bottom-0 flex h-24 w-24 cursor-pointer items-center justify-center rounded-full bg-white/10 ltr:right-0 rtl:left-0",{"bg-white/50":e($)==="light"}])},[(i(),u("svg",Ce,[t("circle",{class:"circle-ring stroke-primary-500",cx:"48",cy:"48",fill:"transparent",r:"34","stroke-linecap":"round","stroke-width":"4","stroke-dasharray":"215","stroke-dashoffset":215-215*parseInt(e(l).data.progress)/100},null,8,Se),t("circle",{class:"circle-ring stroke-bg-1/10",cx:"48",cy:"48",fill:"transparent",r:"34","stroke-linecap":"round","stroke-width":"4","stroke-dasharray":"215","stroke-dashoffset":215-215*parseInt("100")/100},null,8,Ie)])),p(C,{name:"ph:play-fill",class:"text-4xl text-white transition-transform group-hover:scale-[1.15]"}),Be],2)]),_:1},8,["to"]),t("div",Ae,[p(L,{to:`/single/${e(l).id}`},{default:g(()=>[p(U,{class:"btn btn-primary-outline w-[12em] text-sm"},{default:g(()=>[K(b(f.$t("details")),1)]),_:1})]),_:1},8,["to"])])])])]),t("div",Pe,[t("div",He,[t("div",Ne,[(i(!0),u(B,null,A(e(a),(m,x)=>(i(),u("div",{key:m.id,class:y(["flex h-[258px] w-[172px] items-center justify-center rounded-xl text-8xl font-bold transition-[opacity,transform] hover:!opacity-100 ltr:hover:translate-x-5 rtl:hover:-translate-x-5",{"z-[3] !transition-none hover:!translate-x-0":x===0,"z-[2] cursor-pointer opacity-80  ltr:-ml-[130px] rtl:-mr-[130px]":x===1,"z-[1] cursor-pointer opacity-50 ltr:-ml-[130px] rtl:-mr-[130px]":x===2}]),onClick:rt=>d.value=f.data.indexOf(m)},[p(P,{name:"fade-preset",appear:""},{default:g(()=>[t("img",{draggable:"false",src:m.image.poster.webp.large,class:"h-full w-full rounded-xl",alt:m.title.english+"poster"},null,8,We)]),_:2},1024)],10,ze))),128))]),t("div",De,[t("div",{class:y(["bg-bg-12 hover:bg-bg-11 flex shrink-0 cursor-pointer rounded-xl p-2 text-2xl transition-colors ltr:rotate-180",{"disable-block":e(d)===0}]),onClick:h[1]||(h[1]=m=>d.value-=1)},[p(C,{name:"ph:caret-right"})],2),t("div",{class:y(["bg-bg-12 hover:bg-bg-11 flex shrink-0 cursor-pointer rounded-xl p-2 text-2xl transition-colors ltr:rotate-180",{"disable-block":e(d)===f.data.length-1}]),onClick:h[2]||(h[2]=m=>d.value+=1)},[p(C,{name:"ph:caret-left"})],2),Ve])])])])}}});const je=T(Le,[["__scopeId","data-v-33e85d28"]]);function N(r){let n,s=r[0],c=1;for(;c<r.length;){const o=r[c],d=r[c+1];if(c+=2,(o==="optionalAccess"||o==="optionalCall")&&s==null)return;o==="access"||o==="optionalAccess"?(n=s,s=d(s)):(o==="call"||o==="optionalCall")&&(s=d((...l)=>s.call(n,...l)),n=void 0)}return s}const Ee={key:0,class:"w-full"},Ge={class:"w-[29.5em]"},Me={key:1,class:"w-full"},Oe={class:"w-full p-4"},Te=z({__name:"NotificationSlider",props:{isLoading:{type:Boolean},data:{}},setup(r){const n=W(),s=ee("globalDirection"),c=S(!1),o=S(),d=S();te(s,async()=>{await new Promise(a=>setTimeout(a,300)),console.log(N([d,"access",a=>a.value,"optionalAccess",a=>a.splide])),d.value&&d.value.splide.refresh()});const l=I(()=>n.notifications&&N([n,"access",a=>a.notifications,"optionalAccess",a=>a.notifications,"access",a=>a.length])>4?2:1),k=I(()=>({grid:{rows:l.value},direction:s.value,mediaQuery:"min",arrows:!0,pagination:!1,extetntions:{Grid:H},breakpoints:{4e3:{perPage:4},2560:{perPage:4},2220:{perPage:3},1850:{perPage:3},1500:{perPage:2},1150:{perPage:2},950:{perPage:2}}}));let w=null;return M(()=>{const a=document.getElementById("main-scroller");w=new IntersectionObserver(_=>c.value=_[0].isIntersecting,{root:a,rootMargin:"100% 0px 0px 0px"}),w.observe(o.value)}),se(()=>N([w,"optionalAccess",a=>a.disconnect,"call",a=>a()])),(a,_)=>{const $=le;return i(),u("div",{ref_key:"slider",ref:o,class:y(["slider h-[29em] w-full p-4",{"!h-[14.5em]":e(l)===1}])},[e(n).notifications===void 0?(i(),u("div",Ee,[p(e(E),{ref_key:"splide",ref:d,class:"slider-wrapper",options:e(k),extensions:{Grid:e(H)}},{default:g(()=>[(i(),u(B,null,A(12,f=>p(e(j),{key:f,class:"flex justify-center"},{default:g(()=>[t("div",Ge,[p($,{class:"m-4","is-loading":!0})])]),_:2},1024)),64))]),_:1},8,["options","extensions"])])):e(c)?(i(),u("div",Me,[p(e(E),{ref_key:"splide",ref:d,class:"slider-wrapper",options:e(k),extensions:{Grid:e(H)}},{default:g(()=>[(i(!0),u(B,null,A(a.data,f=>(i(),D(e(j),{key:f.id,class:"flex justify-center"},{default:g(()=>[t("div",Oe,[p($,{data:f,limit:"","is-loading":a.isLoading},null,8,["data","is-loading"])])]),_:2},1024))),128))]),_:1},8,["options","extensions"])])):v("",!0)],2)}}});const Fe=T(Te,[["__scopeId","data-v-fdb69c40"]]);function Ue(r){let n,s=r[0],c=1;for(;c<r.length;){const o=r[c],d=r[c+1];if(c+=2,(o==="optionalAccess"||o==="optionalCall")&&s==null)return;o==="access"||o==="optionalAccess"?(n=s,s=d(s)):(o==="call"||o==="optionalCall")&&(s=d((...l)=>s.call(n,...l)),n=void 0)}return s}const Qe={class:"mt-[-4.8rem] flex w-full flex-col gap-20"},qe={key:1,"aria-label":"continue watching",class:"flex flex-col gap-8"},Je={class:"te flex flex-row items-center gap-4 text-3xl font-semibold"},Ke={class:"text-fonts-50"},Ye={class:"relative flex text-fonts-50"},Ze=t("span",{class:"absolute top-1/3 h-4 w-4 rounded-full bg-bg-1 blur-lg ltr:left-1/2 rtl:right-1/2"},null,-1),Re={key:2,"aria-label":"suggested titles",class:"flex flex-col gap-8"},Xe={class:"te flex flex-row items-center gap-4 text-3xl font-semibold"},et={class:"text-fonts-50"},tt={class:"relative flex text-fonts-50"},st=t("span",{class:"absolute top-1/3 h-4 w-4 rounded-full bg-bg-1 blur-lg ltr:left-1/2 rtl:right-1/2"},null,-1),lt={key:3,"aria-label":"notifications",class:"flex flex-col gap-8"},ot={class:"te flex flex-row items-center gap-4 text-3xl font-semibold"},nt={class:"text-fonts-50"},at={class:"relative flex text-fonts-50"},it=t("span",{class:"absolute top-1/3 h-4 w-4 rounded-full bg-bg-1 blur-lg ltr:left-1/2 rtl:right-1/2"},null,-1),ht=z({__name:"dashboard",setup(r){const n=W(),s=oe(),{t:c}=G();return ne({title:()=>`${c("seo.30nama")} | ${c("seo.dashboard")}`}),(o,d)=>{const l=O,k=je,w=re,a=Fe;return i(),u("div",Qe,[v("",!0),e(n).continueWatching.length?(i(),u("section",qe,[t("header",Je,[t("h3",Ke,b(o.$t("continueWatching")),1),t("span",Ye,[p(l,{name:"ph:infinity-bold"}),Ze])]),p(k,{data:e(n).continueWatching},null,8,["data"])])):v("",!0),e(s).suggested?(i(),u("section",Re,[t("header",Xe,[t("h3",et,b(o.$t("ourSuggestions")),1),t("span",tt,[p(l,{name:"ph:pepper-fill"}),st])]),p(w,{posts:e(s).suggested.posts},null,8,["posts"])])):v("",!0),Ue([e,"call",_=>_(n),"access",_=>_.notifications,"optionalAccess",_=>_.notifications,"access",_=>_.length])?(i(),u("section",lt,[t("header",ot,[t("h3",nt,b(o.$t("notifications")),1),t("span",at,[p(l,{name:"ph:megaphone-fill"}),it])]),e(n).notifications?(i(),D(a,{key:0,data:e(n).notifications.notifications},null,8,["data"])):v("",!0)])):v("",!0)])}}});export{ht as default};
